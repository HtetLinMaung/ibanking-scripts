import axios from "axios";

import stream from "stream";
import { promisify } from "util";
import fs from "fs";

const finished = promisify(stream.finished);

export const downloadFromUrl = async (src: string, dest: string) => {
  const writer = fs.createWriteStream(dest);
  const response = await axios({
    url: src,
    method: "get",
    responseType: "stream",
  });
  response.data.pipe(writer);
  return finished(writer);
};
